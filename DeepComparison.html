<!-- Matias Ruiz -->

<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>DeepComparison</title>

    <script>
        // this function can be avoid using includes(key) 
        function arraysEqual(arrayOne, arrayTwo) {
            if (arrayOne.length != arrayTwo.length) return false;
            for (let i = 0; i < arrayOne.length; i++) {
                if (arrayOne[i] !== arrayTwo[i]) {
                    return false;
                }
            }
            return true;
        }

        // my function
        function deepComparison(elementA, elementB) {
            if ((elementA === null) || (elementB === null)) return false;
            let arrayPropertiesA = [];
            let arrayPropertiesB = [];
            if (typeof elementA === 'object') {
                if (typeof elementB === 'object') {
                    arrayPropertiesA = Object.keys(elementA);
                    arrayPropertiesB = Object.keys(elementB);
                    if (arraysEqual(arrayPropertiesA, arrayPropertiesB)) {
                        for (let count = 0; count < arrayPropertiesA.length; count++) {
                            if (elementA[arrayPropertiesA[count]] !== elementB[arrayPropertiesA[count]]) return false;
                        }
                        return true;
                    }
                }
            }
            return false;
        }

        // book beautiful solution
        function deepEqual(a, b) {
            if (a === b) return true;

            if (a == null || typeof a != "object" ||
                b == null || typeof b != "object") return false;

            let keysA = Object.keys(a),
                keysB = Object.keys(b);

            if (keysA.length != keysB.length) return false;

            for (let key of keysA) {
                if (!keysB.includes(key) || !deepEqual(a[key], b[key])) return false;
            }

            return true;
        }


        // console.log(arraysEqual(["1", "2", "3"], ["1", "2", 3]));


        console.log(deepComparison(1, 1));

        console.log(deepComparison({
            name: "Paco",
            age: 32
        }, {
            name: "Paco",
            age: 32
        }));

        console.log(deepComparison(null, null));
    </script>

</head>

</html>